<html>

<head>
	<title>Simple Echo Demo</title>
	<link href="data:image/x-icon;base64,R0lGODlhEAAQAPEAAAAAAP///wAAAAAAACH5BAkFAAIAIf8LTkVUU0NBUEUyLjADAQAAACwAAAAAEAAQAAAC55QkIiIiIoQQAgghAAACACAAACAAgiAAAiAAgiAAAiAAgiAAAiAAgiAAAAACgEAgAAgAAoBAIAAIAAIAACAAAAACAAAgAAgAAoFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAICAgICAgICAgICAgICAgICAgICAgACAAIAAAACAAAAAgAAAAIAAgACAAIAAgACAgICAAICAAAAAgACAAIAAAACAgACAgACAAIAAgACAgIAAgIAAgIAAgACAAAAAgAAAAICAAICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQIAAAQIKAAAh+QQJBQACACwAAAAAEAAQAAAC55QkIiIiIoQQQggBABAAAAEAgAAIggAIgAAIggAIgAAIggAIgAAIggAAAAQAgUAAEAAEAIFAABAABAAAQAAAAAQAAEAAEAAEAIFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAICAgICAgICAgICAgICAgICAgICAgIAAgAAAAIAAAACAAAAAgICAAIAAgACAAICAgIAAgICAAACAAIAAgAAAAICAAICAgIAAgACAAICAgACAgACAgICAAIAAAACAAAAAgIAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQIAAAQIKAAAh+QQJBQACACwAAAAAEAAQAAAC55QkIiIiIoQQQggAgAAACAAAAiAIAiAAAiAIAiAAAiAIAiAAAiAIAgAACAACgQAgAAgAAoEAIAAIAAKAAAAACAAAgAAgAAgAAIFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAICAgICAgICAgICAgICAgICAgICAgACAAAAAgAAAAIAAAACAgIAAgACAAIAAgICAgACAgICAAIAAgACAAAAAgIAAgICAgACAAIAAgICAAICAAICAgIAAgAAAAIAAAACAgACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQIAAAQIKAAAh+QQJBQACACwAAAAAEAAQAAAC55QkIiIiIoQQQgAABABAAAAIgCAIgAAIgCAIgAAIgCAIgAAIgCAIAAAQAAQCAUAAEAAEAgFAABAABAIBAAAQAAAAAUAAEAAAAIFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAICAgICAgICAgICAgICAgICAgICAgIAAAACAAAAAgAAAAICAgICAAIAAgACAgICAAICAgICAgACAAIAAAACAgACAgICAgIAAgACAgIAAgIAAgICAgICAAAAAgAAAAICAAICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQIAAAQIKAAAh+QQJBQACACwAAAAAEAAQAAAC55QkIiIiIoQQAgAgAAACACAAgiAAAiAAgiAAAiAAgiAAAiAAgiAAACAACAQCgAAgAAgEAoAAIAAIBAIAACAAAAACgAAgAAAAAoFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAICAgICAgICAgICAgICAgICAgICAgAAAAIAAAACAAAAAgICAgIAAgACAAICAgIAAgICAgICAAIAAgAAAAICAAICAgICAgACAAICAgACAgACAgICAgIAAAACAAAAAgIAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQIAAAQIKAAAh+QQJBQACACwAAAAAEAAQAAAC55QkIiIiIoQQAgABABAAAAEIgiAIgAAIggAIgAAIgiAIgAAIggAAgAAQCAQCAUAAEAgEAAFAABAIBAIAQAAAAAQAAUAAAAAEAoFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAICAgICAgICAgICAgICAgICAgICAgAAAgAAAAIAAAACAgICAgICAAIAAgICAgACAgICAgICAgACAAAAAgIAAgICAgICAgIAAgICAAICAAICAgICAgIAAAIAAAACAgACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQIAAAQIKAAAh+QQJBQACACwAAAAAEAAQAAAC55QkIiIiIoQQAggAgAAACCAIgiAAAiAIAiAAAiAIgiAAAiAIAgAAAiAQCAQCgAAgEAgAAoAAIBAIBAKAAAAACAACgAAAAAgEAoFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAICAgICAgICAgICAgICAgICAgICAgACAAAAAgAAAAICAgICAgIAAgACAgICAAICAgICAgICAAIAAAACAgACAgICAgICAgACAgIAAgIAAgICAgICAgIAAgAAAAICAAICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQIAAAQIKAAAh+QQJBQACACwAAAAAEAAQAAAC55QkIiIiIoQQQgAABABAACEIgiAIgCAIgAAIgCAIgiAIgCAIAAAIgCAQCAQCAUAgEAAEAAFAIBAIBAIBAAAQAAQAAQAAEAgEAoFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAICAgICAgICAgICAgICAgICAgICAgIAAAACAAAAAgICAgICAgICAAICAgIAAgICAgICAgICAgAAAAICAAICAgICAgICAgICAgACAgACAgICAgICAgICAAAAAgIAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQIAAAQIKAAAh+QQJBQACACwAAAAAEAAQAAAC55QkIiIiIoQQAgAgAAACCCEIgiAAgiAAAiAAgiAIgiAAgiAAACAAgiAQCAQCgEAgAAgAAoBAIBAIBAIAACAACAACAAAgEAgEAoFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAICAgICAgICAgICAgICAgICAgICAgAAAAIAAAACAgICAgICAgIAAgICAgACAgICAgICAgICAAAAAgIAAgICAgICAgICAgICAAICAAICAgICAgICAgIAAAACAgACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQIAAAQIKAAAh+QQJBQACACwAAAAAEAAQAAAC55QkIiIiIoQQAgABABBACCEIggAIggAIgAAIgiAIggAIggAAgAAIgiAQCAQAgUAAEAAEAIFAIBAIBAAAQAAQAAQAAEAgEAgEAIFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAICAgICAgICAgICAgICAgICAgICAgAAAgAAAAICAgICAgICAgACAgICAAICAgICAgICAgIAAAACAgACAgICAgICAgICAAIAAgIAAgICAgICAgICAgAAAAICAAICAgICAgICAgIAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQIAAAQIKAAAh+QQJBQACACwAAAAAEAAQAAAC55QkIiIiIoQQAggAgABCCCEIAiAIAiAAAiAIgiAIAiAIAgAAAiAIgiAQCAACgQAgAAgAAoFAIBAIAAKAACAACAAAgEAgEAgAAIFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAICAgICAgICAgICAgICAgICAgICAgACAAAAAgICAgICAgICAAICAgIAAgICAgICAgICAgACAAICAAICAgICAgICAgIAAAACAgACAgICAgICAgICAAIAAgIAAgICAgICAgICAgACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQIAAAQIKAAAh+QQJBQACACwAAAAAEAAQAAAC55QkIiIiIoQQQgAABBBCCCEIgCAIgAAIgCAIgiAIgCAIAAAIgCAIgiAQAAQCAUAAEAAEAoFAIBAABAIBQAAQAAAAgUAgEAAAAIFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAICAgICAgICAgICAgICAgICAgICAgIAAAACAgICAgICAgIAAgACAgACAgICAgICAgICAAIAAgIAAgICAgICAgICAgAAAAICAAICAgICAgICAgIAAgACAgACAgICAgICAgICAAIAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQIAAAQIKAAAh+QQJBQACACwAAAAAEAAQAAAC55QkIiIiIoQQAgAggBBCCCEAgiAAAiAAgiAIgiAAgiAAACAAgiAIgiAACAQCgAAgAAgEAoFAIAAIBAKAACAAAAACgUAgAAAAAoFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAICAgICAgICAgICAgICAgICAgICAgAAAAICAgICAgICAgACAAICAAICAgICAgICAgIAAgACAgACAgICAgICAgICAAAAAgIAAgICAgICAgICAgACAAICAAICAgICAgICAgIAAgACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQIAAAQIKAAAh+QQJBQACACwAAAAAEAAQAAAC55QkIiIiIoQQAgABhBBCCAEIggAIgAAIgiAIggAIggAAgAAIgiAIggAQCAQAAUAAEAgEAoFAABAIBAABQAAAAAQCgUAAAAAEAIFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAICAgICAgICAgICAgICAgICAgICAgAAAgICAgICAgICAAIAAgAAAgICAgICAgICAgACAAIAAAICAgICAgICAgIAAAACAAACAgICAgICAgICAAIAAgAAAgICAgICAgICAgACAAIAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQIAAAQIKAAAh+QQJBQACACwAAAAAEAAQAAAC55QkIiIiIoQQAggghBBCCCAIAgAAAiAIgiAIAiAIAiAAAiAIgiAIAiAQCAACgAAgEAgEAoEAIBAIAAKAAAAACAQCgQAAAAgAAIFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAICAgICAgICAgICAgICAgICAgICAgACAgICAgICAgIAAgACAAACAgICAgICAgICAAIAAgACAgICAgICAgICAgAAAAIAAgICAgICAgICAgIAAgACAAICAgICAgICAgICAAIAAgAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQIAAAQIKAAAh+QQJBQACACwAAAAAEAAQAAAC55QkIiIiIoQQQgAhhBBCACEIAAAIgCAIgiAIgCAIgAAIgCAIgiAIgCAQAAQAAUAgEAgEAgFAIBAABAABAAAQCAQCAQAAEAAAAIFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAAAACAgICAgICAgIAAgACAAIAAgICAgICAgICAAAAAgACAAICAgICAgICAgACAAIAAgACAgICAgICAgIAAgACAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQIAAAQIKAAAh+QQJBQACACwAAAAAEAAQAAAC55QkIiIiIoQQAgghhBACCCEAACAAgiAIgiAAgiAAAiAAgiAIgiAAgiAACAACgEAgEAgEAoBAIAAIAAIAACAQCAQCAAAgAAAAAoFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAICAgICAgICAgICAgICAgICAgICAgICAgICAgICAAIAAgAAAAICAgICAgICAgACAAIAAgACAgICAgICAgIAAAACAAIAAgICAgICAgICAAIAAgACAAICAgICAgICAgACAAIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQIAAAQIKAAAh+QQJBQACACwAAAAAEAAQAAAC55QkIiIiIoQQQgghhBBACAEAgAAIgiAIggAIggAIgAAIgiAIggAIggAQAAQAgUAgEAgEAIFAABAABAAAQCAQCAQAAEAAAAAEAIFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAAAAAgACAgICAgICAAIAAgACAAIAAgICAgICAgAAAAIAAgACAAICAgICAgIAAgACAAIAAgICAgICAgICAAIAAgAAAAIAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQIAAAQIKAAAh+QQJBQACACwAAAAAEAAQAAAC55QkIiIiIoQQQgghhABCCAAAAgAIgiAIAiAIAiAAAiAIgiAIAiAIAiAACAACgUAgEAgAAoEAIAAIAAKAQCAQCAAAgAAAAAgAAIFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAAAACAAACAgICAgIAAgACAAIAAgACAgICAgICAAAAAgACAAIAAAICAgICAgACAAIAAgACAgICAgICAgIAAgACAAAAAgAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQIAAAQIKAAAh+QQJBQACACwAAAAAEAAQAAAC55QkIiIiIoQQQgghBBBCAAAIAAAIgiAIgCAIgAAIgCAIgiAIgCAIgAAQAAQCgUAgEAAEAgFAABAABAKBQCAQAAAAAQAAEAAAAIFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAICAgICAgICAgICAgICAgICAgICAgICAgICAAIAAgAAAAIAAAACAgICAgACAAIAAgACAAICAgICAgIAAAACAAIAAgAAAAICAgICAAIAAgACAAICAgACAgICAgACAAIAAAACAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQIAAAQIKAAAh+QQJBQACACwAAAAAEAAQAAAC55QkIiIiIoQQQgghgBACACAAACAIgiAAgiAAAiAAgiAIgiAAgiAAAiAACAQCgUAgAAgEAoAAIAAIBAKBQCAAAAACAAAgAAAAAoFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAAAAAgAAAAICAgICAAIAAgACAAIAAgICAgICAgAAAAIAAgACAAAAAgICAgIAAgACAAIAAgICAAICAgICAAIAAgAAAAIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQIAAAQIKAAAh+QQJBQACACwAAAAAEAAQAAAC55QkIiIiIoQQQggBhBAAAAEAgAAIggAIggAIgAAIggAIggAIggAIgAAQCAQAgUAAEAgEAAFAABAIBACBQAAAAAQAAEAAAAAEAIFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAICAgICAgICAgICAgICAgICAgICAgICAgACAAIAAAACAAAAAgACAgIAAgACAAIAAgACAgICAgICAAAAAgACAAIAAAACAgICAgACAAIAAgACAgIAAgICAgIAAgACAAAAAgAAAAICAgICAgICAgICAQICAgICAgICAgICAgICAgICAgQIAAAQIKAAAh+QQJBQACACwAAAAAEAAQAAAC55QkIiIiIoQQQggghAAACAAAAgAIAiAIAiAAAiAIAiAIAiAIAiAAAiAQCAAAgQAgEAgAAoAAIBAIAAKBAAAACAAAgAAAAAgAAoFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAICAgICAgICAgICAgICAgICAgICAgICAAIAAgAAAAIAAAACAAACAgACAAIAAgACAAICAgIAAgIAAAACAAIAAgAAAAICAAICAAIAAgACAAICAgACAgACAgACAAIAAAACAAAAAgIAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQIAAAQIKAAAh+QQJBQACACwAAAAAEAAQAAAC55QkIiIiIoQQQgAhBABAAAAIAAAIgCAIgAAIgCAIgAAIgCAIgAAIgCAQAAAAAUAgEAAEAAFAIBAABAABAAAQAAAAAQAAEAAEAIFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAICAgICAgICAgICAgICAgICAgICAgIAAgACAAAAAgAAAAIAAAACAAIAAgACAAIAAgICAgACAgAAAAIAAgACAAAAAgIAAgIAAgACAAIAAgICAAICAAICAAIAAgAAAAIAAAACAgACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQIAAAQIKAAA7"
					rel="icon" type="image/x-icon" />

</head>

<script src="./js/WsMngr.js" type="text/javascript"></script>
<script src="./js/RemoteLogMngr.js" type="text/javascript"></script>
<script src="./js/RtcMedia.js" type="text/javascript"></script>
<script src="./js/NkMedia.js" type="text/javascript"></script>
<script src="./js/EventLoggerDb.js" type="text/javascript"></script>
<script src="./js/adapter.js" type="text/javascript"></script>
<script src="./js/getScreenId.js" type="text/javascript"></script>

<H1>Simple Echo Demo</H1>

<H3>NetComposer Login Data: </H3>
<BR> Username: <input type="text" id="ws_username" value="james@vovidco.com"><br> Password: <input type="text" id="ws_password" value="anything"><br> Client Id: <input type="text" id="ws_clientId" value="rtc_james_03">

<HR>
<P>
	<P>
		<H3>Functions</H3> Step 1) <button onclick="mediaMngr.getLocalFaceStream( true, true );">Use Face Stream</button> or
		<button onclick="mediaMngr.getLocalScreenCaptureStream()">Use Screen Capture</button>
		<P>
			Step 2) <button id="btnUdpateEcho" onclick="startEcho()">Start Test</button>
			<BR>Must close previous test before starting a new one
			<P>
				Step 3) <button id="btnCloseEcho" onclick="mediaMngr.close()">Close Echo Test</button>
				<P>

					Local Video (below) - muted because it is local
					<BR>
					<video id="localVideo" controls autoplay muted style="max-width:100%"></video>
					<P>
						Remote Video (below)
						<BR>
						<video id="remoteVideo" controls autoplay style="max-width:100%"></video>
						<P>

							<script type="text/javascript">
								'use strict';

								//==========================================================================
								// Var declarations
								//==========================================================================
								var portNumber = 9010;
								var mediaMngr;

								//--------------------------------------------------------
								//  JUNK for JS Lint Complaining
								//--------------------------------------------------------
								var WsMngr = window.WsMngr;

								var neverUseThisItIsJustForJsLintFooling = function() {
									neverUseThisItIsJustForJsLintFooling();
									startEcho();
									updateLoginObj();
								};

								//--------------------------------------------------------
								//  startEcho
								//--------------------------------------------------------
								var startEcho = function() {
									updateLoginObj();
									mediaMngr.callEcho();
								};

								//--------------------------------------------------------
								//  updateLoginObj - Send Command NC with new Login User Credentials
								//--------------------------------------------------------
								var updateLoginObj = function() {
									WsMngr.updateLoginObj(window.location.hostname, portNumber,
										document.getElementById("ws_username").value, // UserNameString,
										document.getElementById("ws_password").value, // UserPasswordString,
										document.getElementById("ws_clientId").value // DeviceIdString,
									);
								};

								//==========================================================================
								// Window Load and Unload
								//==========================================================================
								window.onload = function() {
									WsMngr = window.WsMngr;
									WsMngr.setConnectData(window.location.hostname, portNumber,
										document.getElementById("ws_username").value, // UserNameString,
										document.getElementById("ws_password").value, // UserPasswordString,
										document.getElementById("ws_clientId").value // DeviceIdString,
									);
									mediaMngr = new EchoMedia();
									mediaMngr.localVideoElement = window.localVideo; // Tell EchoMedia about video element
									mediaMngr.remoteVideoElement = window.remoteVideo; // Tell EchoMedia about video element
								};

								window.onunload = function() {
									mediaMngr.close();
								};
							</script>

</html>
